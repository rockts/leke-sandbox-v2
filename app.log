03:39:37 INFO - 请求支付 ----------------------------------
03:39:38 DEBUG - { return_code: 'SUCCESS',
  return_msg: 'OK',
  appid: 'wx6d8ec86bd1367997',
  mch_id: '1489423332',
  nonce_str: '0n35mhdlhgyYtmoh',
  sign: '7C4331722DE501AE53E884A70DE47D10',
  result_code: 'SUCCESS',
  prepay_id: 'wx260339382122217b885495e00064064286',
  trade_type: 'MWEB',
  mweb_url: 'https://wx.tenpay.com/cgi-bin/mmpayweb-bin/checkmweb?prepay_id=wx260339382122217b885495e00064064286&package=4214145833' }
03:39:51 WARN - ---------------------------------------------------
03:39:51 INFO - Request {
  request: 
   IncomingMessage {
     _readableState: 
      ReadableState {
        objectMode: false,
        highWaterMark: 16384,
        buffer: [BufferList],
        length: 0,
        pipes: null,
        pipesCount: 0,
        flowing: true,
        ended: true,
        endEmitted: true,
        reading: false,
        sync: false,
        needReadable: false,
        emittedReadable: false,
        readableListening: false,
        resumeScheduled: false,
        destroyed: false,
        defaultEncoding: 'utf8',
        awaitDrain: 0,
        readingMore: false,
        decoder: null,
        encoding: null },
     readable: false,
     _events: {},
     _eventsCount: 0,
     _maxListeners: undefined,
     socket: 
      Socket {
        connecting: false,
        _hadError: false,
        _handle: [TCP],
        _parent: null,
        _host: null,
        _readableState: [ReadableState],
        readable: true,
        _events: [Object],
        _eventsCount: 9,
        _maxListeners: undefined,
        _writableState: [WritableState],
        writable: true,
        _bytesDispatched: 0,
        _sockname: null,
        _pendingData: null,
        _pendingEncoding: '',
        allowHalfOpen: true,
        server: [Server],
        _server: [Server],
        _idleTimeout: 120000,
        _idleNext: [TimersList],
        _idlePrev: [TimersList],
        _idleStart: 921034,
        _destroyed: false,
        parser: [HTTPParser],
        on: [Function: socketOnWrap],
        _paused: false,
        _httpMessage: [ServerResponse],
        [Symbol(asyncId)]: 1015,
        [Symbol(lastWriteQueueSize)]: 0,
        [Symbol(bytesRead)]: 0,
        [Symbol(asyncId)]: 1016,
        [Symbol(triggerAsyncId)]: 1015 },
     connection: 
      Socket {
        connecting: false,
        _hadError: false,
        _handle: [TCP],
        _parent: null,
        _host: null,
        _readableState: [ReadableState],
        readable: true,
        _events: [Object],
        _eventsCount: 9,
        _maxListeners: undefined,
        _writableState: [WritableState],
        writable: true,
        _bytesDispatched: 0,
        _sockname: null,
        _pendingData: null,
        _pendingEncoding: '',
        allowHalfOpen: true,
        server: [Server],
        _server: [Server],
        _idleTimeout: 120000,
        _idleNext: [TimersList],
        _idlePrev: [TimersList],
        _idleStart: 921034,
        _destroyed: false,
        parser: [HTTPParser],
        on: [Function: socketOnWrap],
        _paused: false,
        _httpMessage: [ServerResponse],
        [Symbol(asyncId)]: 1015,
        [Symbol(lastWriteQueueSize)]: 0,
        [Symbol(bytesRead)]: 0,
        [Symbol(asyncId)]: 1016,
        [Symbol(triggerAsyncId)]: 1015 },
     httpVersionMajor: 1,
     httpVersionMinor: 0,
     httpVersion: '1.0',
     complete: true,
     headers: 
      { 'x-real-ip': '140.207.54.75',
        'x-forwarded-for': '140.207.54.75',
        host: 'sandbox.lekee.cc',
        connection: 'close',
        'content-length': '774',
        accept: '*/*',
        pragma: 'no-cache',
        'user-agent': 'Mozilla/4.0',
        'content-type': 'text/xml' },
     rawHeaders: 
      [ 'X-Real-IP',
        '140.207.54.75',
        'X-Forwarded-For',
        '140.207.54.75',
        'Host',
        'sandbox.lekee.cc',
        'Connection',
        'close',
        'Content-Length',
        '774',
        'Accept',
        '*/*',
        'Pragma',
        'no-cache',
        'User-Agent',
        'Mozilla/4.0',
        'Content-Type',
        'text/xml' ],
     trailers: {},
     rawTrailers: [],
     upgrade: false,
     url: '/wxpay/notify',
     method: 'POST',
     statusCode: null,
     statusMessage: null,
     client: 
      Socket {
        connecting: false,
        _hadError: false,
        _handle: [TCP],
        _parent: null,
        _host: null,
        _readableState: [ReadableState],
        readable: true,
        _events: [Object],
        _eventsCount: 9,
        _maxListeners: undefined,
        _writableState: [WritableState],
        writable: true,
        _bytesDispatched: 0,
        _sockname: null,
        _pendingData: null,
        _pendingEncoding: '',
        allowHalfOpen: true,
        server: [Server],
        _server: [Server],
        _idleTimeout: 120000,
        _idleNext: [TimersList],
        _idlePrev: [TimersList],
        _idleStart: 921034,
        _destroyed: false,
        parser: [HTTPParser],
        on: [Function: socketOnWrap],
        _paused: false,
        _httpMessage: [ServerResponse],
        [Symbol(asyncId)]: 1015,
        [Symbol(lastWriteQueueSize)]: 0,
        [Symbol(bytesRead)]: 0,
        [Symbol(asyncId)]: 1016,
        [Symbol(triggerAsyncId)]: 1015 },
     _consuming: true,
     _dumped: false,
     _parsedUrl: 
      Url {
        protocol: null,
        slashes: null,
        auth: null,
        host: null,
        port: null,
        hostname: null,
        hash: null,
        search: null,
        query: null,
        pathname: '/wxpay/notify',
        path: '/wxpay/notify',
        href: '/wxpay/notify',
        _raw: '/wxpay/notify' },
     read: [Function] },
  params: {},
  response: 
   ServerResponse {
     _events: { finish: [Function: bound resOnFinish] },
     _eventsCount: 1,
     _maxListeners: undefined,
     output: [],
     outputEncodings: [],
     outputCallbacks: [],
     outputSize: 0,
     writable: true,
     _last: false,
     upgrading: false,
     chunkedEncoding: false,
     shouldKeepAlive: false,
     useChunkedEncodingByDefault: false,
     sendDate: true,
     _removedConnection: false,
     _removedContLen: false,
     _removedTE: false,
     _contentLength: null,
     _hasBody: true,
     _trailer: '',
     finished: false,
     _headerSent: false,
     socket: 
      Socket {
        connecting: false,
        _hadError: false,
        _handle: [TCP],
        _parent: null,
        _host: null,
        _readableState: [ReadableState],
        readable: true,
        _events: [Object],
        _eventsCount: 9,
        _maxListeners: undefined,
        _writableState: [WritableState],
        writable: true,
        _bytesDispatched: 0,
        _sockname: null,
        _pendingData: null,
        _pendingEncoding: '',
        allowHalfOpen: true,
        server: [Server],
        _server: [Server],
        _idleTimeout: 120000,
        _idleNext: [TimersList],
        _idlePrev: [TimersList],
        _idleStart: 921034,
        _destroyed: false,
        parser: [HTTPParser],
        on: [Function: socketOnWrap],
        _paused: false,
        _httpMessage: [Circular],
        [Symbol(asyncId)]: 1015,
        [Symbol(lastWriteQueueSize)]: 0,
        [Symbol(bytesRead)]: 0,
        [Symbol(asyncId)]: 1016,
        [Symbol(triggerAsyncId)]: 1015 },
     connection: 
      Socket {
        connecting: false,
        _hadError: false,
        _handle: [TCP],
        _parent: null,
        _host: null,
        _readableState: [ReadableState],
        readable: true,
        _events: [Object],
        _eventsCount: 9,
        _maxListeners: undefined,
        _writableState: [WritableState],
        writable: true,
        _bytesDispatched: 0,
        _sockname: null,
        _pendingData: null,
        _pendingEncoding: '',
        allowHalfOpen: true,
        server: [Server],
        _server: [Server],
        _idleTimeout: 120000,
        _idleNext: [TimersList],
        _idlePrev: [TimersList],
        _idleStart: 921034,
        _destroyed: false,
        parser: [HTTPParser],
        on: [Function: socketOnWrap],
        _paused: false,
        _httpMessage: [Circular],
        [Symbol(asyncId)]: 1015,
        [Symbol(lastWriteQueueSize)]: 0,
        [Symbol(bytesRead)]: 0,
        [Symbol(asyncId)]: 1016,
        [Symbol(triggerAsyncId)]: 1015 },
     _header: null,
     _onPendingData: [Function: bound updateOutgoingData],
     _sent100: false,
     _expect_continue: false,
     [Symbol(isCorked)]: false,
     [Symbol(outHeadersKey)]: 
      { 'set-cookie': [Array],
        'x-frame-options': [Array],
        'x-xss-protection': [Array],
        'x-content-type-options': [Array],
        'x-download-options': [Array] } },
  Config: 
   Config {
     _configPath: '/Users/gaopeng/Desktop/leke-sandbox-v2/config',
     _config: 
      { app: [Object],
        auth: [Object],
        bodyParser: [Object],
        cors: [Object],
        database: [Object],
        session: [Object],
        shield: [Object],
        wxpay: [Object] } },
  _qs: {},
  _all: {},
  _body: {},
  _raw: '<xml><appid><![CDATA[wx6d8ec86bd1367997]]></appid>\n<bank_type><![CDATA[CFT]]></bank_type>\n<cash_fee><![CDATA[3]]></cash_fee>\n<fee_type><![CDATA[CNY]]></fee_type>\n<is_subscribe><![CDATA[Y]]></is_subscribe>\n<mch_id><![CDATA[1489423332]]></mch_id>\n<nonce_str><![CDATA[rfb6XxOgdZ0blLOTNEGm4iVPQHBcJsAx]]></nonce_str>\n<openid><![CDATA[o60YzwA5J5FlK_RuRVCbkNUbOzgo]]></openid>\n<out_trade_no><![CDATA[20180526033937]]></out_trade_no>\n<result_code><![CDATA[SUCCESS]]></result_code>\n<return_code><![CDATA[SUCCESS]]></return_code>\n<sign><![CDATA[6AE4D718D68381B8B4222725B100DD5A]]></sign>\n<time_end><![CDATA[20180526033950]]></time_end>\n<total_fee>3</total_fee>\n<trade_type><![CDATA[MWEB]]></trade_type>\n<transaction_id><![CDATA[4200000116201805267460082136]]></transaction_id>\n</xml>',
  _files: {},
  multipart: 
   Multipart {
     req: 
      IncomingMessage {
        _readableState: [ReadableState],
        readable: false,
        _events: {},
        _eventsCount: 0,
        _maxListeners: undefined,
        socket: [Socket],
        connection: [Socket],
        httpVersionMajor: 1,
        httpVersionMinor: 0,
        httpVersion: '1.0',
        complete: true,
        headers: [Object],
        rawHeaders: [Array],
        trailers: {},
        rawTrailers: [],
        upgrade: false,
        url: '/wxpay/notify',
        method: 'POST',
        statusCode: null,
        statusMessage: null,
        client: [Socket],
        _consuming: true,
        _dumped: false,
        _parsedUrl: [Url],
        read: [Function] },
     _filesToAccess: {},
     _wildcard: {},
     _multipartyOptions: { autoFields: true, autoFiles: false },
     _fieldsCallback: null,
     jar: FileJar { _files: [] },
     _processedStream: false,
     _pendingPromises: Set {} },
  nonce: 'fb8ad573-f3a0-4d69-903d-7ec1a42f217e',
  csrfToken: '8uNgqks9-yDmzvCPVtE82TEi5TAU4DFLhSV8' }
03:39:51 INFO - 支付结果： { appid: 'wx6d8ec86bd1367997',
  bank_type: 'CFT',
  cash_fee: '3',
  fee_type: 'CNY',
  is_subscribe: 'Y',
  mch_id: '1489423332',
  nonce_str: 'rfb6XxOgdZ0blLOTNEGm4iVPQHBcJsAx',
  openid: 'o60YzwA5J5FlK_RuRVCbkNUbOzgo',
  out_trade_no: '20180526033937',
  result_code: 'SUCCESS',
  return_code: 'SUCCESS',
  sign: '6AE4D718D68381B8B4222725B100DD5A',
  time_end: '20180526033950',
  total_fee: '3',
  trade_type: 'MWEB',
  transaction_id: '4200000116201805267460082136' }
03:39:51 INFO - 结果签名： 6AE4D718D68381B8B4222725B100DD5A
03:39:51 INFO - 自制签名： 6AE4D718D68381B8B4222725B100DD5A
03:39:51 DEBUG - 回复代码： SUCCESS
03:40:01 INFO - 请求查询 --------------------------------
03:40:01 DEBUG - { return_code: 'SUCCESS',
  return_msg: 'OK',
  appid: 'wx6d8ec86bd1367997',
  mch_id: '1489423332',
  nonce_str: 'SlGoxyvxnJBFapyT',
  sign: '2912669BC8AA6588F9BB5C972D38BD82',
  result_code: 'SUCCESS',
  openid: 'o60YzwA5J5FlK_RuRVCbkNUbOzgo',
  is_subscribe: 'Y',
  trade_type: 'MWEB',
  bank_type: 'CFT',
  total_fee: '3',
  fee_type: 'CNY',
  transaction_id: '4200000116201805267460082136',
  out_trade_no: '20180526033937',
  attach: undefined,
  time_end: '20180526033950',
  trade_state: 'SUCCESS',
  cash_fee: '3',
  trade_state_desc: '支付成功' }
